<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="./style.css">
  <title>PCM inventory forum</title>
</head>
<body>
  <header>
    <h1>Product Intake Form</h1>
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/submissions">View Submissions</a></li>
      </ul>
    </nav>
  </header>

  <!-- Checkbox for "Need" and "Selling" -->
  <label>
    <input type="radio" name="intention" value="Need" id="needCheckbox" onchange="updateTextColor()"> Need
  </label>
  <label>
    <input type="radio" name="intention" value="Selling" id="sellingCheckbox" onchange="updateTextColor()"> Selling
  </label>

  <form id="intakeForm" action="/submit" method="POST" enctype="multipart/form-data">
    <label for="product">Product:</label>
    <input type="text" id="product" name="product" required><br><br>

    <label for="sku">SKU:</label>
    <input type="text" id="sku" name="sku" required><br><br>

    <label for="qty">Quantity:</label>
    <input type="number" id="qty" name="qty" required><br><br>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required><br><br>

    <!-- Checkbox to enable Selling Price input -->
    <label>
      <input type="checkbox" id="sellingPriceCheckbox" onchange="toggleSellingPrice()"> Include Selling Price
    </label>
    
    <div id="sellingPriceField" style="display: none;">
      <label for="sellingPrice">Selling Price:</label>
      <input type="number" id="sellingPrice" name="sellingPrice"><br><br>
    </div>

    <!-- File input for attaching an image -->
    <label for="image">Attach Image:</label>
    <input type="file" id="image" name="image"><br><br>

    <input type="submit" value="Submit">
  </form>

  <h2>Recent Submissions:</h2>
  <div id="submissionList"></div>

  <script>
    // Function to update text color based on checkbox selection
    function updateTextColor() {
      const needCheckbox = document.getElementById('needCheckbox');
      const sellingCheckbox = document.getElementById('sellingCheckbox');
      const productInput = document.getElementById('product');

      if (needCheckbox.checked) {
        productInput.style.color = 'blue';
      } else if (sellingCheckbox.checked) {
        productInput.style.color = 'red';
      } else {
        productInput.style.color = 'black';
      }
    }

    // Function to toggle visibility of Selling Price input field
    function toggleSellingPrice() {
      const sellingPriceCheckbox = document.getElementById('sellingPriceCheckbox');
      const sellingPriceField = document.getElementById('sellingPriceField');

      sellingPriceField.style.display = sellingPriceCheckbox.checked ? 'block' : 'none';
    }
  </script>
</body>
</html>
